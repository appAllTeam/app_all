"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createItemFromDescriptor = createItemFromDescriptor;
exports.createConfigItem = createConfigItem;
exports.getItemDescriptor = getItemDescriptor;

<<<<<<< HEAD
function _path() {
  const data = _interopRequireDefault(require("path"));

  _path = function () {
    return data;
  };

  return data;
}

var _configDescriptors = require("./config-descriptors");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
=======
var _configDescriptors = require("./config-descriptors");

const path = require("path");
>>>>>>> 9a347bca

function createItemFromDescriptor(desc) {
  return new ConfigItem(desc);
}

<<<<<<< HEAD
function createConfigItem(value, {
  dirname = ".",
  type
} = {}) {
  const descriptor = (0, _configDescriptors.createDescriptor)(value, _path().default.resolve(dirname), {
=======
function* createConfigItem(value, {
  dirname = ".",
  type
} = {}) {
  const descriptor = yield* (0, _configDescriptors.createDescriptor)(value, path.resolve(dirname), {
>>>>>>> 9a347bca
    type,
    alias: "programmatic item"
  });
  return createItemFromDescriptor(descriptor);
}

function getItemDescriptor(item) {
<<<<<<< HEAD
  if (item instanceof ConfigItem) {
=======
  if (item != null && item[CONFIG_ITEM_BRAND]) {
>>>>>>> 9a347bca
    return item._descriptor;
  }

  return undefined;
}

<<<<<<< HEAD
class ConfigItem {
  constructor(descriptor) {
=======
const CONFIG_ITEM_BRAND = Symbol.for("@babel/core@7 - ConfigItem");

class ConfigItem {
  constructor(descriptor) {
    this._descriptor = void 0;
    this[CONFIG_ITEM_BRAND] = true;
    this.value = void 0;
    this.options = void 0;
    this.dirname = void 0;
    this.name = void 0;
    this.file = void 0;
>>>>>>> 9a347bca
    this._descriptor = descriptor;
    Object.defineProperty(this, "_descriptor", {
      enumerable: false
    });
<<<<<<< HEAD
=======
    Object.defineProperty(this, CONFIG_ITEM_BRAND, {
      enumerable: false
    });
>>>>>>> 9a347bca
    this.value = this._descriptor.value;
    this.options = this._descriptor.options;
    this.dirname = this._descriptor.dirname;
    this.name = this._descriptor.name;
    this.file = this._descriptor.file ? {
      request: this._descriptor.file.request,
      resolved: this._descriptor.file.resolved
    } : undefined;
    Object.freeze(this);
  }

}

Object.freeze(ConfigItem.prototype);